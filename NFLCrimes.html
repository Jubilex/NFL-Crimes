<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>NFL Crimes</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

			<!-- add one style thing at a time! -->
	<style>
		.foo {
			border: 1px solid #bbb;
			border-radius: 2px;
			box-shadow: 2px 4px #ddd;
			padding: 16px;
			margin: 8px;
			width: 333px;
			display: inline-block;
		}
		.foo:hover h2 {
			display: block;
		}
		.foo h2 {
			display: none
		}
	</style>

</head>

<body>
	<input type="text" id="NameInput" />
	<!-- GOOGLE button on click-->
	<button onclick="getData()">Get</button>
	<div class="player-wrapper"></div>
</body>
<script>
	// talk about DOM
	// brief slide about events?  
	// SHOW TWO WAYS  where function below and then show them OR you can just do this:
	document.addEventListener("DOMContentLoaded", function(event) { 
		// do work;
	});


	async function getData() {
		const name = document.getElementById('NameInput').value;
		const players = await getPlayersData(name);
		displayPlayers(players);
	}
	function displayPlayers(players) {
		let htmlOutput = ``;
		for (let player of players) {
					/* Later */htmlOutput+=`<div class='foo'>`;
			htmlOutput += `<h1>${player.first_name} ${player.last_name}</h1>`
			if (player.playerData && player.playerData.games_played) {
				htmlOutput += `<h2>Games played: ${player.playerData.games_played}</h2>`
			} else {
				htmlOutput += `<h2>Games played: No data</h2>`
			}
			if (player.playerData && player.playerData.pts) {
				htmlOutput += `<h2>Avg Points: ${player.playerData.pts}</h2>`
			} else {
				htmlOutput += `<h2>Avg Points: No data</h2>`
			}
					/* Later */htmlOutput+= `</div>`;
		}
		document.getElementsByClassName("player-wrapper")[0].innerHTML = htmlOutput;
	}

	async function getPlayersData(nameFilter) {
		const players = await getAllPlayersWithName(nameFilter);
		for (let player of players) {
			const playerData = await getDataForPlayer(player.id);
			player.playerData = playerData;
		}
		return players;
	}

	// separate all stuff into async function
	async function getAllPlayersWithName(nameFilter) {
		// use const over let cause optimizes runtime (know dont have to write to it later);
		// SHOW WITHOUT PERPAGE AND ADD IT, STILL NOT BEST WAY BUT OK FOR NOW
		// SHOW NETWORK TAB
		let foo = fetch('https://www.balldontlie.io/api/v1/players?search=' + nameFilter + '&per_page=10');
		console.log('here');
		await foo;
		const res = await fetch('https://www.balldontlie.io/api/v1/players?search=' + nameFilter + '&per_page=10');
		const players = await res.json();
		return players.data;
	}
	async function getDataForPlayer(id) {
		res = await fetch('https://www.balldontlie.io/api/v1/season_averages?season=2018&player_ids[]=' + id);
		playerData = await res.json();
		// SHOW CONSOLE LOG TO SEE WHATS COMING BACK AND
		console.log(playerData);
		// SHOW HOW COOL U CAN ON FLY ADD THINGS  IT IS VERY LOOSE. DO NOT SHOW log before after !!!
		setTimeout(() => {
		playerData.foobar = 'Hi Mom';
		console.log(playerData);

		})

		return playerData.data[0];
	}
</script>

</html>

<!--

	engage them.  and at end say we are doing a participation.  open up make doctype and lets make a button and lets
	make click button then update an image or something simple
	if running slow, make them do with time left
	if running late, do with them.

-->

<!--
	ADAM:Nov date to program?  you give me the content i assume?   what will they know when i show up?  
	they know browser inspect, network, console, elements tabs (# cursory shown once)?  

	Quiz over stuff i'm going over today: make quiz over first day topics

	SLIDES PREPARE
	start out: show servcer rendering HTML then SPA with new ONE.
	browsers use javascripot not c#
	typesafe examples.  wow seems cool til u have a bug u cant find
	can give example later if think of it
	DOM and what it is cursory
	querystrings #dont know
	javascript heavyo
	const, let, === vs == 

	asynchronous is big in JS.  talk some.

	talk about differences between javascrpoit and c#

	before day 2 show functions in javascript 

	javascript history, ECMASCRIPT versions and where we are now 6 is 2015, 7 now
followed entire thing.  I want to go slow
	enough everyone has that experience.  What will they know exactly going into it.


	Show old ONE and new ONE, talk about SPA and where code lives / executed and how we make a SPA today...
1st day raw javascript and discussion and small snippit demos to demonstrate everything with slides
2nd actual do project w/them pokemon
teach === and == and javascript is LOOSE
	Hi Steve.  Work for OU, I write one.ou.edu.  new version written in Angular 8 soon.
	So for some of you this semester between all your classes you're learning a bunch of differe t languages,
	SQL, vbasic, c# and now javascript!  Now i'm sure you are like "o great", so I'm going to purposely go slow because I want everyone to follow
	what I'm doing and not be lost.  We are not doing anything complex, rather something simple/basic so you can
	follow.  STOP me, ask questions if you are not with me.  I don't know what you don't
	know so if you don't stop me you may be lost.  Chances are if you dont know someone else doesnt either.  I will stop and
	call on some of you to answer a question to make sure you are following! :):w

	2nd day: Like all good programmer, we will be using google to help us!

	slides: sometimes its good to stop and just think about what is going on...
	www: where is your code running?  why important?  need to make requests for data and
	BE vs FE is much different!
talk about oclient server and javascript on client
servers vs browsers
all calls take a while
block = bad
Talk about async programming

Browser inspect / Network tab, console, elements teach!
cursory HTTP slide showing protocol to talk from browser to server
HTTP calls, verbs.  GET & browser calls are all get.  query strings to pass data/params

teach id="xxx" and how its BAD BAD, then change to by class
all done manually via raw javascript.  Certainly easier ways!  jquery, ?bootstrap?, angular


CLEANUP
	 CHANGE TO THIS
	<script src="foo.js"></script>
-->